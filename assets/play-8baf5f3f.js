import{_ as rs}from"./nmCard-b735b476.js";import{S as pt,D as T,E as re,T as ls,G as Le,H as N,I as j,J as qt,K as le,M as Bt,L as Ue,N as us,O as I,P as z,U as ft,V as cs,W as Ke,X as ds,Y as hs,Z as ps,_ as Xe,$ as xe,a0 as fs,a1 as We,a2 as Y,a3 as ms,a4 as gs,a5 as vs,e as Ze,o as ie,f as we,w as R,i as B,Q as Tt,q as oe,x as Ce,l as Je,a6 as ys,p as M,a7 as Ye,m as Se,j as ke,a8 as $t,c as Ee,a as u,h as $,a9 as Rt,u as Dt,aa as _s,g as He,d as Et,ab as bs,ac as et,ad as ks,ae as xs,af as ne,ag as ws,ah as Cs,ai as be,aj as Ve,ak as mt,al as ze,am as qe,an as Ie,ao as Mt,ap as Ss,aq as L,ar as qs,as as Ge,at as Bs,au as Ts,av as $s,aw as Rs,ax as Ds,ay as Es,az as Ms,aA as Ps,aB as Fs,aC as Ns,aD as Os,aE as As,aF as pe,aG as fe,aH as me,aI as J,aJ as tt,aK as W,aL as H,aM as gt,aN as Ls,aO as Vs,aP as zs,aQ as Is,s as Gs,aR as Qs,k as vt,n as js,r as Us,F as Xs,aS as Ys,aT as Ks}from"./index-8b8f1f38.js";import{u as Ws,a as Zs}from"./index-69141963.js";import{a as st,u as Js,b as Hs}from"./bbPrograms-8c373adc.js";import{_ as en}from"./_plugin-vue_export-helper-c27b6911.js";class ue extends pt{constructor(){super(T(ue.getDefaults(),arguments,["type"])),this.name="Noise",this._source=null;const e=T(ue.getDefaults(),arguments,["type"]);this._playbackRate=e.playbackRate,this.type=e.type,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign(pt.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(e){if(re(e in yt,"Noise: invalid type: "+e),this._type!==e&&(this._type=e,this.state==="started")){const n=this.now();this._stop(n),this._start(n)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._source&&(this._source.playbackRate.value=e)}_start(e){const n=yt[this._type];this._source=new ls({url:n,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(e),Math.random()*(n.duration-.001))}_stop(e){this._source&&(this._source.stop(this.toSeconds(e)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(e){this._stop(e),this._start(e)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const K=44100*5,Qe=2,V={brown:null,pink:null,white:null},yt={get brown(){if(!V.brown){const s=[];for(let e=0;e<Qe;e++){const n=new Float32Array(K);s[e]=n;let i=0;for(let t=0;t<K;t++){const a=Math.random()*2-1;n[t]=(i+.02*a)/1.02,i=n[t],n[t]*=3.5}}V.brown=new Le().fromArray(s)}return V.brown},get pink(){if(!V.pink){const s=[];for(let e=0;e<Qe;e++){const n=new Float32Array(K);s[e]=n;let i,t,a,o,l,c,d;i=t=a=o=l=c=d=0;for(let h=0;h<K;h++){const p=Math.random()*2-1;i=.99886*i+p*.0555179,t=.99332*t+p*.0750759,a=.969*a+p*.153852,o=.8665*o+p*.3104856,l=.55*l+p*.5329522,c=-.7616*c-p*.016898,n[h]=i+t+a+o+l+c+d+p*.5362,n[h]*=.11,d=p*.115926}}V.pink=new Le().fromArray(s)}return V.pink},get white(){if(!V.white){const s=[];for(let e=0;e<Qe;e++){const n=new Float32Array(K);s[e]=n;for(let i=0;i<K;i++)n[i]=Math.random()*2-1}V.white=new Le().fromArray(s)}return V.white}};class ee extends N{constructor(){super(Object.assign(T(ee.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new j({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,qt(this._constantSource,this._sum)}static getDefaults(){return Object.assign(N.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Be extends le{constructor(){super(Object.assign(T(Be.getDefaults(),arguments,["min","max"]))),this.name="Scale";const e=T(Be.getDefaults(),arguments,["min","max"]);this._mult=this.input=new Bt({context:this.context,value:e.max-e.min}),this._add=this.output=new ee({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(le.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class nt extends le{constructor(){super(Object.assign(T(nt.getDefaults(),arguments))),this.name="Zero",this._gain=new j({context:this.context}),this.output=this._gain,this.input=void 0,Ue(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),us(this.context.getConstant(0),this._gain),this}}class Te extends I{constructor(){super(T(Te.getDefaults(),arguments,["frequency","min","max"])),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=z.prototype._fromType,this._toType=z.prototype._toType,this._is=z.prototype._is,this._clampValue=z.prototype._clampValue;const e=T(Te.getDefaults(),arguments,["frequency","min","max"]);this._oscillator=new ft(e),this.frequency=this._oscillator.frequency,this._amplitudeGain=new j({context:this.context,gain:e.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new N({context:this.context,units:"audioRange",value:0}),this._zeros=new nt({context:this.context}),this._a2g=new cs({context:this.context}),this._scaler=this.output=new Be({context:this.context,max:e.max,min:e.min}),this.units=e.units,this.min=e.min,this.max=e.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),Ke(this,["amplitude","frequency"]),this.phase=e.phase}static getDefaults(){return Object.assign(ft.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(0,e),this._oscillator.start(e),this}stop(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(this._stoppedValue,e),this._oscillator.stop(e),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(e){e=this._fromType(e),this._scaler.min=e}get max(){return this._toType(this._scaler.max)}set max(e){e=this._fromType(e),this._scaler.max=e}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(e){this._oscillator.partials=e,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e,this._setStoppedValue()}get units(){return this._units}set units(e){const n=this.min,i=this.max;this._units=e,this.min=n,this.max=i}get state(){return this._oscillator.state}connect(e,n,i){return(e instanceof z||e instanceof N)&&(this.convert=e.convert,this.units=e.units),ds(this,e,n,i),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}class tn extends le{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new hs({context:this.context,mapping:e=>Math.abs(e)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class sn extends le{constructor(){super(...arguments),this.name="Negate",this._multiply=new Bt({context:this.context,value:-1}),this.input=this._multiply,this.output=this._multiply}dispose(){return super.dispose(),this._multiply.dispose(),this}}class ce extends I{constructor(){super(T(ce.getDefaults(),arguments,["frequency","type"])),this.name="BiquadFilter";const e=T(ce.getDefaults(),arguments,["frequency","type"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new z({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new z({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new z({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new z({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(I.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){re(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const n=new Float32Array(e);for(let o=0;o<e;o++){const c=Math.pow(o/e,2)*(2e4-20)+20;n[o]=c}const i=new Float32Array(e),t=new Float32Array(e),a=this.context.createBiquadFilter();return a.type=this.type,a.Q.value=this.Q.value,a.frequency.value=this.frequency.value,a.gain.value=this.gain.value,a.getFrequencyResponse(n,i,t),i}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class $e extends I{constructor(){super(T($e.getDefaults(),arguments,["frequency","type","rolloff"])),this.name="Filter",this.input=new j({context:this.context}),this.output=new j({context:this.context}),this._filters=[];const e=T($e.getDefaults(),arguments,["frequency","type","rolloff"]);this._filters=[],this.Q=new N({context:this.context,units:"positive",value:e.Q}),this.frequency=new N({context:this.context,units:"frequency",value:e.frequency}),this.detune=new N({context:this.context,units:"cents",value:e.detune}),this.gain=new N({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,Ke(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(I.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){re(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(i=>i.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const n=Xe(e)?e:parseInt(e,10),i=[-12,-24,-48,-96];let t=i.indexOf(n);re(t!==-1,`rolloff can only be ${i.join(", ")}`),t+=1,this._rolloff=n,this.input.disconnect(),this._filters.forEach(a=>a.disconnect()),this._filters=new Array(t);for(let a=0;a<t;a++){const o=new ce({context:this.context});o.type=this._type,this.frequency.connect(o.frequency),this.detune.connect(o.detune),this.Q.connect(o.Q),this.gain.connect(o.gain),this._filters[a]=o}this._internalChannels=this._filters,qt(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const n=new ce({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),i=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{n.getFrequencyResponse(e).forEach((a,o)=>i[o]*=a)}),n.dispose(),i}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),ps(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class Re extends xe{constructor(){super(T(Re.getDefaults(),arguments,["callback","value"])),this.name="ToneEvent",this._state=new fs("stopped"),this._startOffset=0;const e=T(Re.getDefaults(),arguments,["callback","value"]);this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._playbackRate=e.playbackRate,this._probability=e.probability,this._humanize=e.humanize,this.mute=e.mute,this._playbackRate=e.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(xe.getDefaults(),{callback:We,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(e=-1){this._state.forEachFrom(e,n=>{let i;if(n.state==="started"){n.id!==-1&&this.context.transport.clear(n.id);const t=n.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||Xe(this._loop)&&this._loop>1){i=1/0,Xe(this._loop)&&(i=this._loop*this._getLoopDuration());const a=this._state.getAfter(t);a!==null&&(i=Math.min(i,a.time-t)),i!==1/0&&(this._state.setStateAtTime("stopped",t+i+1,{id:-1}),i=new Y(this.context,i));const o=new Y(this.context,this._getLoopDuration());n.id=this.context.transport.scheduleRepeat(this._tick.bind(this),o,new Y(this.context,t),i)}else n.id=this.context.transport.schedule(this._tick.bind(this),new Y(this.context,t))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e}get probability(){return this._probability}set probability(e){this._probability=e}get humanize(){return this._humanize}set humanize(e){this._humanize=e}start(e){const n=this.toTicks(e);return this._state.getValueAtTime(n)==="stopped"&&(this._state.add({id:-1,state:"started",time:n}),this._rescheduleEvents(n)),this}stop(e){this.cancel(e);const n=this.toTicks(e);if(this._state.getValueAtTime(n)==="started"){this._state.setStateAtTime("stopped",n,{id:-1});const i=this._state.getBefore(n);let t=n;i!==null&&(t=i.time),this._rescheduleEvents(t)}return this}cancel(e){e=gs(e,-1/0);const n=this.toTicks(e);return this._state.forEachFrom(n,i=>{this.context.transport.clear(i.id)}),this._state.cancel(n),this}_tick(e){const n=this.context.transport.getTicksAtTime(e);if(!this.mute&&this._state.getValueAtTime(n)==="started"){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let i=.02;ms(this.humanize)||(i=this.toSeconds(this.humanize)),e+=(Math.random()*2-1)*i}this.callback(e,this.value)}}_getLoopDuration(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)}get loop(){return this._loop}set loop(e){this._loop=e,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._rescheduleEvents()}get loopEnd(){return new Y(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._rescheduleEvents()}get loopStart(){return new Y(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const e=this.context.transport.ticks,n=this._state.get(e);if(n!==null&&n.state==="started"){const i=this._getLoopDuration();return(e-n.time)%i/i}else return 0}else return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class de extends xe{constructor(){super(T(de.getDefaults(),arguments,["callback","interval"])),this.name="Loop";const e=T(de.getDefaults(),arguments,["callback","interval"]);this._event=new Re({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:e.interval,playbackRate:e.playbackRate,probability:e.probability}),this.callback=e.callback,this.iterations=e.iterations}static getDefaults(){return Object.assign(xe.getDefaults(),{interval:"4n",callback:We,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(e){return this._event.start(e),this}stop(e){return this._event.stop(e),this}cancel(e){return this._event.cancel(e),this}_tick(e){this.callback(e)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(e){this._event.loopEnd=e}get playbackRate(){return this._event.playbackRate}set playbackRate(e){this._event.playbackRate=e}get humanize(){return this._event.humanize}set humanize(e){this._event.humanize=e}get probability(){return this._event.probability}set probability(e){this._event.probability=e}get mute(){return this._event.mute}set mute(e){this._event.mute=e}get iterations(){return this._event.loop===!0?1/0:this._event.loop}set iterations(e){e===1/0?this._event.loop=!0:this._event.loop=e}dispose(){return super.dispose(),this._event.dispose(),this}}function*nn(s){let e=0;for(;e<s.length;)e=te(e,s),yield s[e],e++}function*an(s){let e=s.length-1;for(;e>=0;)e=te(e,s),yield s[e],e--}function*ae(s,e){for(;;)yield*e(s)}function te(s,e){return vs(s,0,e.length-1)}function*_t(s,e){let n=e?0:s.length-1;for(;;)n=te(n,s),yield s[n],e?(n++,n>=s.length-1&&(e=!1)):(n--,n<=0&&(e=!0))}function*on(s){let e=0,n=0;for(;e<s.length;)e=te(e,s),yield s[e],n++,e+=n%2?2:-1}function*rn(s){let e=s.length-1,n=0;for(;e>=0;)e=te(e,s),yield s[e],n++,e+=n%2?-2:1}function*ln(s){for(;;){const e=Math.floor(Math.random()*s.length);yield s[e]}}function*un(s){const e=[];for(let n=0;n<s.length;n++)e.push(n);for(;e.length>0;){const n=e.splice(Math.floor(e.length*Math.random()),1),i=te(n[0],s);yield s[i]}}function*cn(s){let e=Math.floor(Math.random()*s.length);for(;;)e===0?e++:e===s.length-1||Math.random()<.5?e--:e++,yield s[e]}function*bt(s,e="up",n=0){switch(re(s.length>0,"The array must have more than one value in it"),e){case"up":yield*ae(s,nn);case"down":yield*ae(s,an);case"upDown":yield*_t(s,!0);case"downUp":yield*_t(s,!1);case"alternateUp":yield*ae(s,on);case"alternateDown":yield*ae(s,rn);case"random":yield*ln(s);case"randomOnce":yield*ae(s,un);case"randomWalk":yield*cn(s)}}class he extends de{constructor(){super(T(he.getDefaults(),arguments,["callback","values","pattern"])),this.name="Pattern";const e=T(he.getDefaults(),arguments,["callback","values","pattern"]);this.callback=e.callback,this._values=e.values,this._pattern=bt(e.values,e.pattern),this._type=e.pattern}static getDefaults(){return Object.assign(de.getDefaults(),{pattern:"up",values:[],callback:We})}_tick(e){const n=this._pattern.next();this._value=n.value,this.callback(e,this._value)}get values(){return this._values}set values(e){this._values=e,this.pattern=this._type}get value(){return this._value}get pattern(){return this._type}set pattern(e){this._type=e,this._pattern=bt(this._values,this._type)}}class De extends I{constructor(){super(Object.assign(T(De.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new tn({context:this.context}),this.a=new j({context:this.context,gain:0}),this.b=new j({context:this.context,gain:0}),this.output=new j({context:this.context}),this._internalChannels=[this.a,this.b];const e=T(De.getDefaults(),arguments,["fade"]);this.fade=new N({context:this.context,units:"normalRange",value:e.fade}),Ke(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",Ue(this._split,this.a.gain,0),Ue(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(I.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class U extends I{constructor(){super(T(U.getDefaults(),arguments,["channels"])),this.name="Merge";const e=T(U.getDefaults(),arguments,["channels"]);this._merger=this.output=this.input=this.context.createChannelMerger(e.channels)}static getDefaults(){return Object.assign(I.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}const dn={class:"text-h6 text-left"},hn=Ze({__name:"SoundGeneratorControls",props:{name:{},muteCtrl:{type:Boolean},type:{}},emits:["update:muteCtrl","showVolumeDialog"],setup(s,{emit:e}){const i=Ws(s,"muteCtrl",e);function t(){e("showVolumeDialog",{title:"Foo"})}return(a,o)=>(ie(),we($t,{class:"my-card text-white",style:{background:"radial-gradient(circle, #35a2ff 0%, #014a88 100%)"}},{default:R(()=>[B(Tt,{class:"q-pb-none"},{default:R(()=>[oe("div",dn,Ce(a.name),1)]),_:1}),B(Je,{align:"right",class:"q-py-none"},{default:R(()=>[B(ys,{modelValue:M(i),"onUpdate:modelValue":o[0]||(o[0]=l=>Ye(i)?i.value=l:null),label:"Mute","checked-icon":"volume_off","unchecked-icon":"volume_up","keep-color":"","left-label":"",color:"red"},null,8,["modelValue"]),B(Se,{flat:"",onClick:t},{default:R(()=>[ke("Volume")]),_:1})]),_:1})]),_:1}))}}),pn=["top","middle","bottom"],Pt=Ee({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:s=>pn.includes(s)}},setup(s,{slots:e}){const n=u(()=>s.align!==void 0?{verticalAlign:s.align}:null),i=u(()=>{const t=s.outline===!0&&s.color||s.textColor;return`q-badge flex inline items-center no-wrap q-badge--${s.multiLine===!0?"multi":"single"}-line`+(s.outline===!0?" q-badge--outline":s.color!==void 0?` bg-${s.color}`:"")+(t!==void 0?` text-${t}`:"")+(s.floating===!0?" q-badge--floating":"")+(s.rounded===!0?" q-badge--rounded":"")+(s.transparent===!0?" q-badge--transparent":"")});return()=>$("div",{class:i.value,style:n.value,role:"status","aria-label":s.label},Rt(e.default,s.label!==void 0?[s.label]:[]))}}),fn={xs:2,sm:4,md:6,lg:10,xl:14};function kt(s,e,n){return{transform:e===!0?`translateX(${n.lang.rtl===!0?"-":""}100%) scale3d(${-s},1,1)`:`scale3d(${s},1,1)`}}const mn=Ee({name:"QLinearProgress",props:{...Dt,..._s,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(s,{slots:e}){const{proxy:n}=He(),i=Et(s,n.$q),t=bs(s,fn),a=u(()=>s.indeterminate===!0||s.query===!0),o=u(()=>s.reverse!==s.query),l=u(()=>({...t.value!==null?t.value:{},"--q-linear-progress-speed":`${s.animationSpeed}ms`})),c=u(()=>"q-linear-progress"+(s.color!==void 0?` text-${s.color}`:"")+(s.reverse===!0||s.query===!0?" q-linear-progress--reverse":"")+(s.rounded===!0?" rounded-borders":"")),d=u(()=>kt(s.buffer!==void 0?s.buffer:1,o.value,n.$q)),h=u(()=>`with${s.instantFeedback===!0?"out":""}-transition`),p=u(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${h.value} q-linear-progress__track--${i.value===!0?"dark":"light"}`+(s.trackColor!==void 0?` bg-${s.trackColor}`:"")),m=u(()=>kt(a.value===!0?1:s.value,o.value,n.$q)),v=u(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${h.value} q-linear-progress__model--${a.value===!0?"in":""}determinate`),g=u(()=>({width:`${s.value*100}%`})),f=u(()=>`q-linear-progress__stripe absolute-${s.reverse===!0?"right":"left"} q-linear-progress__stripe--${h.value}`);return()=>{const _=[$("div",{class:p.value,style:d.value}),$("div",{class:v.value,style:m.value})];return s.stripe===!0&&a.value===!1&&_.push($("div",{class:f.value,style:g.value})),$("div",{class:c.value,style:l.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":s.indeterminate===!0?void 0:s.value},Rt(e.default,_))}}}),gn=Ee({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(s,{slots:e,emit:n}){let i=!1,t,a,o=null,l=null,c,d;function h(){t&&t(),t=null,i=!1,o!==null&&(clearTimeout(o),o=null),l!==null&&(clearTimeout(l),l=null),a!==void 0&&a.removeEventListener("transitionend",c),c=null}function p(f,_,k){_!==void 0&&(f.style.height=`${_}px`),f.style.transition=`height ${s.duration}ms cubic-bezier(.25, .8, .50, 1)`,i=!0,t=k}function m(f,_){f.style.overflowY=null,f.style.height=null,f.style.transition=null,h(),_!==d&&n(_)}function v(f,_){let k=0;a=f,i===!0?(h(),k=f.offsetHeight===f.scrollHeight?0:void 0):(d="hide",f.style.overflowY="hidden"),p(f,k,_),o=setTimeout(()=>{o=null,f.style.height=`${f.scrollHeight}px`,c=y=>{l=null,(Object(y)!==y||y.target===f)&&m(f,"show")},f.addEventListener("transitionend",c),l=setTimeout(c,s.duration*1.1)},100)}function g(f,_){let k;a=f,i===!0?h():(d="show",f.style.overflowY="hidden",k=f.scrollHeight),p(f,k,_),o=setTimeout(()=>{o=null,f.style.height=0,c=y=>{l=null,(Object(y)!==y||y.target===f)&&m(f,"hide")},f.addEventListener("transitionend",c),l=setTimeout(c,s.duration*1.1)},100)}return et(()=>{i===!0&&h()}),()=>$(ks,{css:!1,appear:s.appear,onEnter:v,onLeave:g},e.default)}}),at={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},vn=Object.keys(at);at.all=!0;function xt(s){const e={};for(const n of vn)s[n]===!0&&(e[n]=!0);return Object.keys(e).length===0?at:(e.horizontal===!0?e.left=e.right=!0:e.left===!0&&e.right===!0&&(e.horizontal=!0),e.vertical===!0?e.up=e.down=!0:e.up===!0&&e.down===!0&&(e.vertical=!0),e.horizontal===!0&&e.vertical===!0&&(e.all=!0),e)}const yn=["INPUT","TEXTAREA"];function wt(s,e){return e.event===void 0&&s.target!==void 0&&s.target.draggable!==!0&&typeof e.handler=="function"&&yn.includes(s.target.nodeName.toUpperCase())===!1&&(s.qClonedBy===void 0||s.qClonedBy.indexOf(e.uid)===-1)}function je(s,e,n){const i=qe(s);let t,a=i.left-e.event.x,o=i.top-e.event.y,l=Math.abs(a),c=Math.abs(o);const d=e.direction;d.horizontal===!0&&d.vertical!==!0?t=a<0?"left":"right":d.horizontal!==!0&&d.vertical===!0?t=o<0?"up":"down":d.up===!0&&o<0?(t="up",l>c&&(d.left===!0&&a<0?t="left":d.right===!0&&a>0&&(t="right"))):d.down===!0&&o>0?(t="down",l>c&&(d.left===!0&&a<0?t="left":d.right===!0&&a>0&&(t="right"))):d.left===!0&&a<0?(t="left",l<c&&(d.up===!0&&o<0?t="up":d.down===!0&&o>0&&(t="down"))):d.right===!0&&a>0&&(t="right",l<c&&(d.up===!0&&o<0?t="up":d.down===!0&&o>0&&(t="down")));let h=!1;if(t===void 0&&n===!1){if(e.event.isFirst===!0||e.event.lastDir===void 0)return{};t=e.event.lastDir,h=!0,t==="left"||t==="right"?(i.left-=a,l=0,a=0):(i.top-=o,c=0,o=0)}return{synthetic:h,payload:{evt:s,touch:e.event.mouse!==!0,mouse:e.event.mouse===!0,position:i,direction:t,isFirst:e.event.isFirst,isFinal:n===!0,duration:Date.now()-e.event.time,distance:{x:l,y:c},offset:{x:a,y:o},delta:{x:i.left-e.event.lastX,y:i.top-e.event.lastY}}}}let _n=0;const bn=xs({name:"touch-pan",beforeMount(s,{value:e,modifiers:n}){if(n.mouse!==!0&&ne.has.touch!==!0)return;function i(a,o){n.mouse===!0&&o===!0?Mt(a):(n.stop===!0&&ze(a),n.prevent===!0&&mt(a))}const t={uid:"qvtp_"+_n++,handler:e,modifiers:n,direction:xt(n),noop:ws,mouseStart(a){wt(a,t)&&Cs(a)&&(be(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(a,!0))},touchStart(a){if(wt(a,t)){const o=a.target;be(t,"temp",[[o,"touchmove","move","notPassiveCapture"],[o,"touchcancel","end","passiveCapture"],[o,"touchend","end","passiveCapture"]]),t.start(a)}},start(a,o){if(ne.is.firefox===!0&&Ve(s,!0),t.lastEvt=a,o===!0||n.stop===!0){if(t.direction.all!==!0&&(o!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const d=a.type.indexOf("mouse")>-1?new MouseEvent(a.type,a):new TouchEvent(a.type,a);a.defaultPrevented===!0&&mt(d),a.cancelBubble===!0&&ze(d),Object.assign(d,{qKeyEvent:a.qKeyEvent,qClickOutside:a.qClickOutside,qAnchorHandled:a.qAnchorHandled,qClonedBy:a.qClonedBy===void 0?[t.uid]:a.qClonedBy.concat(t.uid)}),t.initialEvent={target:a.target,event:d}}ze(a)}const{left:l,top:c}=qe(a);t.event={x:l,y:c,time:Date.now(),mouse:o===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:l,lastY:c}},move(a){if(t.event===void 0)return;const o=qe(a),l=o.left-t.event.x,c=o.top-t.event.y;if(l===0&&c===0)return;t.lastEvt=a;const d=t.event.mouse===!0,h=()=>{i(a,d);let v;n.preserveCursor!==!0&&n.preservecursor!==!0&&(v=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),d===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ss(),t.styleCleanup=g=>{if(t.styleCleanup=void 0,v!==void 0&&(document.documentElement.style.cursor=v),document.body.classList.remove("non-selectable"),d===!0){const f=()=>{document.body.classList.remove("no-pointer-events--children")};g!==void 0?setTimeout(()=>{f(),g()},50):f()}else g!==void 0&&g()}};if(t.event.detected===!0){t.event.isFirst!==!0&&i(a,t.event.mouse);const{payload:v,synthetic:g}=je(a,t,!1);v!==void 0&&(t.handler(v)===!1?t.end(a):(t.styleCleanup===void 0&&t.event.isFirst===!0&&h(),t.event.lastX=v.position.left,t.event.lastY=v.position.top,t.event.lastDir=g===!0?void 0:v.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||d===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){h(),t.event.detected=!0,t.move(a);return}const p=Math.abs(l),m=Math.abs(c);p!==m&&(t.direction.horizontal===!0&&p>m||t.direction.vertical===!0&&p<m||t.direction.up===!0&&p<m&&c<0||t.direction.down===!0&&p<m&&c>0||t.direction.left===!0&&p>m&&l<0||t.direction.right===!0&&p>m&&l>0?(t.event.detected=!0,t.move(a)):t.end(a,!0))},end(a,o){if(t.event!==void 0){if(Ie(t,"temp"),ne.is.firefox===!0&&Ve(s,!1),o===!0)t.styleCleanup!==void 0&&t.styleCleanup(),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(je(a===void 0?t.lastEvt:a,t).payload);const{payload:l}=je(a===void 0?t.lastEvt:a,t,!0),c=()=>{t.handler(l)};t.styleCleanup!==void 0?t.styleCleanup(c):c()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(s.__qtouchpan=t,n.mouse===!0){const a=n.mouseCapture===!0||n.mousecapture===!0?"Capture":"";be(t,"main",[[s,"mousedown","mouseStart",`passive${a}`]])}ne.has.touch===!0&&be(t,"main",[[s,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[s,"touchmove","noop","notPassiveCapture"]])},updated(s,e){const n=s.__qtouchpan;n!==void 0&&(e.oldValue!==e.value&&(typeof value!="function"&&n.end(),n.handler=e.value),n.direction=xt(e.modifiers))},beforeUnmount(s){const e=s.__qtouchpan;e!==void 0&&(e.event!==void 0&&e.end(),Ie(e,"main"),Ie(e,"temp"),ne.is.firefox===!0&&Ve(s,!1),e.styleCleanup!==void 0&&e.styleCleanup(),delete s.__qtouchpan)}});function Z(s,e,n){return n<=e?e:Math.min(n,Math.max(e,s))}const Ct="q-slider__marker-labels",kn=s=>({value:s}),xn=({marker:s})=>$("div",{key:s.value,style:s.style,class:s.classes},s.label),Ft=[34,37,40,33,39,38],wn={...Dt,...Bs,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:s=>s>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},Cn=["pan","update:modelValue","change"];function Sn({updateValue:s,updatePosition:e,getDragging:n,formAttrs:i}){const{props:t,emit:a,slots:o,proxy:{$q:l}}=He(),c=Et(t,l),d=$s(i),h=L(!1),p=L(!1),m=L(!1),v=L(!1),g=u(()=>t.vertical===!0?"--v":"--h"),f=u(()=>"-"+(t.switchLabelSide===!0?"switched":"standard")),_=u(()=>t.vertical===!0?t.reverse===!0:t.reverse!==(l.lang.rtl===!0)),k=u(()=>isNaN(t.innerMin)===!0||t.innerMin<t.min?t.min:t.innerMin),y=u(()=>isNaN(t.innerMax)===!0||t.innerMax>t.max?t.max:t.innerMax),x=u(()=>t.disable!==!0&&t.readonly!==!0&&k.value<y.value),D=u(()=>(String(t.step).trim().split(".")[1]||"").length),C=u(()=>t.step===0?1:t.step),G=u(()=>x.value===!0?t.tabindex||0:-1),O=u(()=>t.max-t.min),F=u(()=>y.value-k.value),P=u(()=>Pe(k.value)),se=u(()=>Pe(y.value)),X=u(()=>t.vertical===!0?_.value===!0?"bottom":"top":_.value===!0?"right":"left"),ve=u(()=>t.vertical===!0?"height":"width"),Me=u(()=>t.vertical===!0?"width":"height"),ye=u(()=>t.vertical===!0?"vertical":"horizontal"),_e=u(()=>{const r={role:"slider","aria-valuemin":k.value,"aria-valuemax":y.value,"aria-orientation":ye.value,"data-step":t.step};return t.disable===!0?r["aria-disabled"]="true":t.readonly===!0&&(r["aria-readonly"]="true"),r}),A=u(()=>`q-slider q-slider${g.value} q-slider--${h.value===!0?"":"in"}active inline no-wrap `+(t.vertical===!0?"row":"column")+(t.disable===!0?" disabled":" q-slider--enabled"+(x.value===!0?" q-slider--editable":""))+(m.value==="both"?" q-slider--focus":"")+(t.label||t.labelAlways===!0?" q-slider--label":"")+(t.labelAlways===!0?" q-slider--label-always":"")+(c.value===!0?" q-slider--dark":"")+(t.dense===!0?" q-slider--dense q-slider--dense"+g.value:""));function S(r){const b="q-slider__"+r;return`${b} ${b}${g.value} ${b}${g.value}${f.value}`}function it(r){const b="q-slider__"+r;return`${b} ${b}${g.value}`}const Ot=u(()=>{const r=t.selectionColor||t.color;return"q-slider__selection absolute"+(r!==void 0?` text-${r}`:"")}),At=u(()=>it("markers")+" absolute overflow-hidden"),Lt=u(()=>it("track-container")),Vt=u(()=>S("pin")),zt=u(()=>S("label")),It=u(()=>S("text-container")),Gt=u(()=>S("marker-labels-container")+(t.markerLabelsClass!==void 0?` ${t.markerLabelsClass}`:"")),Qt=u(()=>"q-slider__track relative-position no-outline"+(t.trackColor!==void 0?` bg-${t.trackColor}`:"")),jt=u(()=>{const r={[Me.value]:t.trackSize};return t.trackImg!==void 0&&(r.backgroundImage=`url(${t.trackImg}) !important`),r}),Ut=u(()=>"q-slider__inner absolute"+(t.innerTrackColor!==void 0?` bg-${t.innerTrackColor}`:"")),ot=u(()=>{const r={[X.value]:`${100*P.value}%`,[ve.value]:`${100*(se.value-P.value)}%`};return t.innerTrackImg!==void 0&&(r.backgroundImage=`url(${t.innerTrackImg}) !important`),r});function Xt(r){const{min:b,max:w,step:q}=t;let E=b+r*(w-b);if(q>0){const Q=(E-b)%q;E+=(Math.abs(Q)>=q/2?(Q<0?-1:1)*q:0)-Q}return D.value>0&&(E=parseFloat(E.toFixed(D.value))),Z(E,k.value,y.value)}function Pe(r){return O.value===0?0:(r-t.min)/O.value}function Yt(r,b){const w=qe(r),q=t.vertical===!0?Z((w.top-b.top)/b.height,0,1):Z((w.left-b.left)/b.width,0,1);return Z(_.value===!0?1-q:q,P.value,se.value)}const rt=u(()=>qs(t.markers)===!0?t.markers:C.value),lt=u(()=>{const r=[],b=rt.value,w=t.max;let q=t.min;do r.push(q),q+=b;while(q<w);return r.push(w),r}),ut=u(()=>{const r=` ${Ct}${g.value}-`;return Ct+`${r}${t.switchMarkerLabelsSide===!0?"switched":"standard"}${r}${_.value===!0?"rtl":"ltr"}`}),Fe=u(()=>t.markerLabels===!1?null:Wt(t.markerLabels).map((r,b)=>({index:b,value:r.value,label:r.label||r.value,classes:ut.value+(r.classes!==void 0?" "+r.classes:""),style:{...dt(r.value),...r.style||{}}}))),ct=u(()=>({markerList:Fe.value,markerMap:Zt.value,classes:ut.value,getStyle:dt})),Kt=u(()=>{if(F.value!==0){const r=100*rt.value/F.value;return{...ot.value,backgroundSize:t.vertical===!0?`2px ${r}%`:`${r}% 2px`}}return null});function Wt(r){if(r===!1)return null;if(r===!0)return lt.value.map(kn);if(typeof r=="function")return lt.value.map(w=>{const q=r(w);return Ge(q)===!0?{...q,value:w}:{value:w,label:q}});const b=({value:w})=>w>=t.min&&w<=t.max;return Array.isArray(r)===!0?r.map(w=>Ge(w)===!0?w:{value:w}).filter(b):Object.keys(r).map(w=>{const q=r[w],E=Number(w);return Ge(q)===!0?{...q,value:E}:{value:E,label:q}}).filter(b)}function dt(r){return{[X.value]:`${100*(r-t.min)/O.value}%`}}const Zt=u(()=>{if(t.markerLabels===!1)return null;const r={};return Fe.value.forEach(b=>{r[b.value]=b}),r});function Jt(){if(o["marker-label-group"]!==void 0)return o["marker-label-group"](ct.value);const r=o["marker-label"]||xn;return Fe.value.map(b=>r({marker:b,...ct.value}))}const Ht=u(()=>[[bn,es,void 0,{[ye.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function es(r){r.isFinal===!0?(v.value!==void 0&&(e(r.evt),r.touch===!0&&s(!0),v.value=void 0,a("pan","end")),h.value=!1,m.value=!1):r.isFirst===!0?(v.value=n(r.evt),e(r.evt),s(),h.value=!0,a("pan","start")):(e(r.evt),s())}function ht(){m.value=!1}function ts(r){e(r,n(r)),s(),p.value=!0,h.value=!0,document.addEventListener("mouseup",Ne,!0)}function Ne(){p.value=!1,h.value=!1,s(!0),ht(),document.removeEventListener("mouseup",Ne,!0)}function ss(r){e(r,n(r)),s(!0)}function ns(r){Ft.includes(r.keyCode)&&s(!0)}function as(r){if(t.vertical===!0)return null;const b=l.lang.rtl!==t.reverse?1-r:r;return{transform:`translateX(calc(${2*b-1} * ${t.thumbSize} / 2 + ${50-100*b}%))`}}function is(r){const b=u(()=>p.value===!1&&(m.value===r.focusValue||m.value==="both")?" q-slider--focus":""),w=u(()=>`q-slider__thumb q-slider__thumb${g.value} q-slider__thumb${g.value}-${_.value===!0?"rtl":"ltr"} absolute non-selectable`+b.value+(r.thumbColor.value!==void 0?` text-${r.thumbColor.value}`:"")),q=u(()=>({width:t.thumbSize,height:t.thumbSize,[X.value]:`${100*r.ratio.value}%`,zIndex:m.value===r.focusValue?2:void 0})),E=u(()=>r.labelColor.value!==void 0?` text-${r.labelColor.value}`:""),Q=u(()=>as(r.ratio.value)),Oe=u(()=>"q-slider__text"+(r.labelTextColor.value!==void 0?` text-${r.labelTextColor.value}`:""));return()=>{const Ae=[$("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[$("path",{d:t.thumbPath})]),$("div",{class:"q-slider__focus-ring fit"})];return(t.label===!0||t.labelAlways===!0)&&(Ae.push($("div",{class:Vt.value+" absolute fit no-pointer-events"+E.value},[$("div",{class:zt.value,style:{minWidth:t.thumbSize}},[$("div",{class:It.value,style:Q.value},[$("span",{class:Oe.value},r.label.value)])])])),t.name!==void 0&&t.disable!==!0&&d(Ae,"push")),$("div",{class:w.value,style:q.value,...r.getNodeData()},Ae)}}function os(r,b,w,q){const E=[];t.innerTrackColor!=="transparent"&&E.push($("div",{key:"inner",class:Ut.value,style:ot.value})),t.selectionColor!=="transparent"&&E.push($("div",{key:"selection",class:Ot.value,style:r.value})),t.markers!==!1&&E.push($("div",{key:"marker",class:At.value,style:Kt.value})),q(E);const Q=[Ts("div",{key:"trackC",class:Lt.value,tabindex:b.value,...w.value},[$("div",{class:Qt.value,style:jt.value},E)],"slide",x.value,()=>Ht.value)];if(t.markerLabels!==!1){const Oe=t.switchMarkerLabelsSide===!0?"unshift":"push";Q[Oe]($("div",{key:"markerL",class:Gt.value},Jt()))}return Q}return et(()=>{document.removeEventListener("mouseup",Ne,!0)}),{state:{active:h,focus:m,preventFocus:p,dragging:v,editable:x,classes:A,tabindex:G,attributes:_e,step:C,decimals:D,trackLen:O,innerMin:k,innerMinRatio:P,innerMax:y,innerMaxRatio:se,positionProp:X,sizeProp:ve,isReversed:_},methods:{onActivate:ts,onMobileClick:ss,onBlur:ht,onKeyup:ns,getContent:os,getThumbRenderFn:is,convertRatioToModel:Xt,convertModelToRatio:Pe,getDraggingRatio:Yt}}}const qn=()=>({}),Bn=Ee({name:"QSlider",props:{...wn,modelValue:{required:!0,default:null,validator:s=>typeof s=="number"||s===null},labelValue:[String,Number]},emits:Cn,setup(s,{emit:e}){const{proxy:{$q:n}}=He(),{state:i,methods:t}=Sn({updateValue:g,updatePosition:_,getDragging:f,formAttrs:Rs(s)}),a=L(null),o=L(0),l=L(0);function c(){l.value=s.modelValue===null?i.innerMin.value:Z(s.modelValue,i.innerMin.value,i.innerMax.value)}Ds(()=>`${s.modelValue}|${i.innerMin.value}|${i.innerMax.value}`,c),c();const d=u(()=>t.convertModelToRatio(l.value)),h=u(()=>i.active.value===!0?o.value:d.value),p=u(()=>{const x={[i.positionProp.value]:`${100*i.innerMinRatio.value}%`,[i.sizeProp.value]:`${100*(h.value-i.innerMinRatio.value)}%`};return s.selectionImg!==void 0&&(x.backgroundImage=`url(${s.selectionImg}) !important`),x}),m=t.getThumbRenderFn({focusValue:!0,getNodeData:qn,ratio:h,label:u(()=>s.labelValue!==void 0?s.labelValue:l.value),thumbColor:u(()=>s.thumbColor||s.color),labelColor:u(()=>s.labelColor),labelTextColor:u(()=>s.labelTextColor)}),v=u(()=>i.editable.value!==!0?{}:n.platform.is.mobile===!0?{onClick:t.onMobileClick}:{onMousedown:t.onActivate,onFocus:k,onBlur:t.onBlur,onKeydown:y,onKeyup:t.onKeyup});function g(x){l.value!==s.modelValue&&e("update:modelValue",l.value),x===!0&&e("change",l.value)}function f(){return a.value.getBoundingClientRect()}function _(x,D=i.dragging.value){const C=t.getDraggingRatio(x,D);l.value=t.convertRatioToModel(C),o.value=s.snap!==!0||s.step===0?C:t.convertModelToRatio(l.value)}function k(){i.focus.value=!0}function y(x){if(!Ft.includes(x.keyCode))return;Mt(x);const D=([34,33].includes(x.keyCode)?10:1)*i.step.value,C=([34,37,40].includes(x.keyCode)?-1:1)*(i.isReversed.value===!0?-1:1)*(s.vertical===!0?-1:1)*D;l.value=Z(parseFloat((l.value+C).toFixed(i.decimals.value)),i.innerMin.value,i.innerMax.value),g()}return()=>{const x=t.getContent(p,i.tabindex,v,D=>{D.push(m())});return $("div",{ref:a,class:i.classes.value+(s.modelValue===null?" q-slider--no-value":""),...i.attributes.value,"aria-valuenow":s.modelValue},x)}}}),Tn=Ze({__name:"volumeDialog",setup(s,{expose:e}){const{isRevealed:n,reveal:i,onReveal:t,onConfirm:a,confirm:o}=Zs();e({reveal:i});const l=L(""),c=L(10),d=L(h=>{});return t(h=>{l.value=h.title,c.value=h.volume,d.value=h.updateVolume}),a(()=>{l.value="",c.value=10}),(h,p)=>(ie(),we(Ns,{modelValue:M(n),"onUpdate:modelValue":p[2]||(p[2]=m=>Ye(n)?n.value=m:null),ref:"dialogRef",persistent:"",maximized:"","transition-show":"slide-up","transition-hide":"slide-down"},{default:R(()=>[B($t,{dark:"",class:"q-dialog-plugin bg-blue-grey text-whit"},{default:R(()=>[B(Es,{elevated:"",class:"bg-primary text-white justify-between"},{default:R(()=>[B(Se,{onClick:p[0]||(p[0]=m=>M(o)()),dense:"",flat:"",icon:"close",class:"item-start"},{default:R(()=>[B(Ms,{class:"bg-white text-primary"},{default:R(()=>[ke("Close")]),_:1})]),_:1}),B(Ps,null,{default:R(()=>[ke(Ce(M(l)),1)]),_:1}),B(Fs,{name:"equalizer"})]),_:1}),B(Je,{vertical:"",align:"center",class:"q-pt-lg q-gutter-md"},{default:R(()=>[B(Pt,{color:"secondary",class:"q-pa-sm"},{default:R(()=>[ke(Ce(M(c)),1)]),_:1}),B(Bn,{onChange:M(d),modelValue:M(c),"onUpdate:modelValue":p[1]||(p[1]=m=>Ye(c)?c.value=m:null),min:0,max:100,vertical:"","track-size":"76px","thumb-size":"0",reverse:""},null,8,["onChange","modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});function $n(s){return s.toLowerCase()}var Rn=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Dn=/[^A-Z0-9]+/gi;function En(s,e){e===void 0&&(e={});for(var n=e.splitRegexp,i=n===void 0?Rn:n,t=e.stripRegexp,a=t===void 0?Dn:t,o=e.transform,l=o===void 0?$n:o,c=e.delimiter,d=c===void 0?" ":c,h=St(St(s,i,"$1\0$2"),a,"\0"),p=0,m=h.length;h.charAt(p)==="\0";)p++;for(;h.charAt(m-1)==="\0";)m--;return h.slice(p,m).split("\0").map(l).join(d)}function St(s,e,n){return e instanceof RegExp?s.replace(e,n):e.reduce(function(i,t){return i.replace(t,n)},s)}function Mn(s){return s.charAt(0).toUpperCase()+s.substr(1)}function Pn(s){return Mn(s.toLowerCase())}function Nt(s,e){return e===void 0&&(e={}),En(s,Os({delimiter:" ",transform:Pn},e))}function ge(s,e,n){return As((t,a)=>({get(){return t(),s[e]??n},set(o){s.set({[e]:o}),a()}}))}function Fn(s,e,n){const{gain:i,noise:t}=n;console.debug(`createBasicNoiseGen ${s} gain %o, opt %o`,i,n);const a=new pe(0),o=a.send("main"),l=new fe({attack:5,decay:0,sustain:.5,release:10,attackCurve:"sine",releaseCurve:"sine"}).connect(a),c=new ue(t).connect(l);e.onPlayBackStarted(()=>{c.state==="stopped"&&c.start("+0.1"),l.set({release:10,attack:5}),l.triggerAttack("+0.2")}),e.onPlayBackPaused(()=>{l.set({release:2,attack:2}),l.triggerRelease("+0.1")}),e.onPlayBackStopped(()=>{l.triggerRelease("+0.1")});const d=u(()=>`${s} - ${Nt(c.type)}`),h=ge(a,"mute",!1),p=u({get:()=>o.gain.value,set:g=>o.gain.rampTo(g,"+0.5")}),m=u({get:()=>a.volume.value,set:g=>a.volume.rampTo(g,"+0.5")});function v(){a.dispose()}return me({generatorName:d,type:"BasicNoiseGen",muteCtrl:h,gainCtrl:p,volumeCtrl:m,dispose:v})}function Nn(s,e,n){const{gain:i,beatFreq:t,osc:a}=n;console.debug(`createBasicNoiseGen ${s} gain %o, opt %o`,i,n);const o=new pe(-16),l=o.send("main"),c=new fe({attack:4,decay:0,sustain:.5,release:4,attackCurve:"sine",releaseCurve:"sine"}).connect(o),d=new U().connect(c),h=new J({type:"sine",...a}).connect(d,0,0).sync(),p=new J({type:"sine",...a}).connect(d,0,1).sync(),m=new N({value:a.frequency,units:"frequency"}).connect(h.frequency),v=new ee(t).connect(p.frequency);m.connect(v),e.onPlayBackStarted(()=>{h.state==="stopped"&&(h.start("+0.1"),p.start("+0.1")),c.set({release:10,attack:5}),c.triggerAttack("+0.2")}),e.onPlayBackPaused(()=>{c.set({release:2,attack:2}),c.triggerRelease("+0.1")}),e.onPlayBackStopped(()=>{c.triggerRelease("+0.1")});const g=ge(o,"mute",!1),f=u({get:()=>l.gain.value,set:y=>l.gain.rampTo(y,"+0.5")}),_=u({get:()=>o.volume.value,set:y=>o.volume.rampTo(y,"+0.5")});function k(){o.dispose()}return me({generatorName:s,type:"BasicBinauralBeatOsc",muteCtrl:g,gainCtrl:f,volumeCtrl:_,dispose:k})}function On(s,e,n){const{gain:i,noise:t,filter:a}=n;console.debug(`createNoiseFilteredGen ${s} gain %o, opt %o`,i,n);const o=new pe(0),l=o.send("main");console.debug(`createNoiseFilteredGen ${s} channelGainNode %o`,l.gain.value);const c=new $e(a).connect(o),d=new fe({attack:5,decay:0,sustain:.5,release:10,attackCurve:"sine",releaseCurve:"sine"}).connect(c),h=new ue(t).connect(d);e.onPlayBackStarted(()=>{h.state==="stopped"&&h.start("+0.1"),d.set({release:10,attack:5}),d.triggerAttack("+0.2")}),e.onPlayBackPaused(()=>{d.set({release:2,attack:2}),d.triggerRelease("+0.1")}),e.onPlayBackStopped(()=>{d.triggerRelease("+0.1")});const p=u(()=>`${s} - ${Nt(h.type)}`),m=ge(o,"mute",!1),v=u({get:()=>l.gain.value,set:_=>l.gain.rampTo(_,"+0.5")}),{volumeRef:g}=st(o.volume,{defaultValue:i});function f(){o.dispose()}return me({generatorName:p,type:"NoiseFilteredGen",muteCtrl:m,gainCtrl:v,volumeCtrl:g,dispose:f})}const An=-18;function Ln(s,e,n){const{gain:i,beatFreq:t,osc:a,loopEvents:o}=n;console.debug(`createBinauralBeatwLoop ${s} gain %o, opt %o`,i,n);const l=new pe(An);l.send("main");const c=new fe({attack:4,decay:0,sustain:.5,release:4,attackCurve:"sine",releaseCurve:"sine"}).connect(l),d=new U().connect(c),h=new J({type:"sine",...a}).connect(d,0,0).sync(),p=new J({type:"sine",...a}).connect(d,0,1).sync(),m=new N({value:a.frequency,units:"frequency"}).connect(h.frequency),v=new ee(t).connect(p.frequency);if(m.connect(v),e.onPlayBackStarted(()=>{h.state==="stopped"&&(h.start("+0.1"),p.start("+0.1")),c.set({release:10,attack:5}),c.triggerAttack("+0.2")}),e.onPlayBackPaused(()=>{c.set({release:2,attack:2}),c.triggerRelease("+0.1")}),e.onPlayBackStopped(()=>{c.triggerRelease("+0.1")}),tt(o)){const{values:y,humanize:x,probability:D,interval:C,pattern:G}=o,O=new he({pattern:G,values:y,humanize:x,probability:D,interval:C,callback:(F,P)=>{console.log("%o Pattern Triggered - time %o event %o",s,F,P),W(Vn,P)&&v.addend.rampTo(P.beatFreq,P.rampTime,F),W(zn,P)&&m.rampTo(P.frequency,P.rampTime,F)}});e.onPlayBackStarted(({time:F})=>O.start(F)),e.onPlayBackPaused(F=>O.stop(F))}const g=u(()=>`${s} - ${t}Hz`),f=ge(l,"mute",!1),{volumeRef:_}=st(l.volume,{defaultValue:i});function k(){l.dispose()}return me({generatorName:g,type:"BinauralBeatwLoop",muteCtrl:f,volumeCtrl:_,dispose:k})}const Vn={beatFreq:H.number},zn={frequency:H.number},In=-18;function Gn(s,e,n){const{gain:i,beatFreq:t,spinCrossFade:a=1,spinCycle:o=.1,osc:l,loopEvents:c}=n;console.debug(`createBinauralBeatwLoop ${s} gain %o, opt %o`,i,n);const d=new pe(In);d.send("main");const h=new fe({attack:4,decay:0,sustain:.5,release:4,attackCurve:"sine",releaseCurve:"sine"}).connect(d),p=new De(a).connect(h),m=new U().connect(p.b),v=new U().connect(p.a),g=new gt(1).connect(m,0,0),f=new gt(-1).connect(m,0,1),_=new J({type:"sine",...l}).connect(v,0,0).connect(g).sync(),k=new J({type:"sine",...l}).connect(v,0,1).connect(f).sync(),y=new N({value:l.frequency,units:"frequency"}).connect(_.frequency),x=new ee(t).connect(k.frequency);y.connect(x);const D=new Te(o,-1,1).start();D.connect(g.pan);const C=new sn().connect(f.pan);if(D.connect(C),e.onPlayBackStarted(()=>{_.state==="stopped"&&(_.start("+0.1"),k.start("+0.1")),h.set({release:10,attack:5}),h.triggerAttack("+0.2")}),e.onPlayBackPaused(()=>{h.set({release:2,attack:2}),h.triggerRelease("+0.1")}),e.onPlayBackStopped(()=>{h.triggerRelease("+0.1")}),tt(c)){const{values:se,humanize:X,probability:ve,interval:Me,pattern:ye}=c,_e=new he({pattern:ye,values:se,humanize:X,probability:ve,interval:Me,callback:(A,S)=>{console.log("%o Pattern Triggered - time %o event.rampTime %o event.signal %o",s,A,S==null?void 0:S.rampTime,S==null?void 0:S.signal),W(Qn,S)&&x.addend.rampTo(S.signal.beatFreq,S.rampTime,A),W(jn,S)&&y.rampTo(S.signal.frequency,S.rampTime,A),W(Un,S)&&p.fade.rampTo(S.signal.spinCrossFade,S.rampTime,A),W(Xn,S)&&D.frequency.rampTo(S.signal.spinCycle,S.rampTime,A)}});e.onPlayBackStarted(({time:A})=>_e.start(A)),e.onPlayBackPaused(A=>_e.stop(A))}const G=u(()=>`${s} - ${t}Hz`),O=ge(d,"mute",!1),{volumeRef:F}=st(d.volume,{defaultValue:i});function P(){d.dispose()}return me({generatorName:G,type:"BinauralBeatSpinOsc",muteCtrl:O,volumeCtrl:F,dispose:P})}const Qn={signal:{beatFreq:H.number}},jn={signal:{frequency:H.number}},Un={signal:{spinCrossFade:H.number}},Xn={signal:{spinCycle:H.number}};function Yn(s,e){let n=0,i=0;return s.map(t=>Ls(t).with({type:"BasicNoiseGen"},a=>(n++,Fn(`Noise #${n}`,e,a.options))).with({type:"BasicBinauralBeatOsc"},a=>(i++,Nn(`Binaural Osc #${i}`,e,a.options))).with({type:"NoiseFilteredGen"},a=>(n++,On(`Noise #${n}`,e,a.options))).with({type:"BinauralBeatwLoop"},({options:a})=>(i++,Ln(`Binaural Osc #${i}`,e,a))).with({type:"BinauralBeatSpinOsc"},({options:a})=>(i++,Gn(`Binaural Spin Osc #${i}`,e,a))).otherwise(a=>(console.log("Unknow Generator %o",a),null))).filter(Kn)}function Kn(s){return s!=null}const Wn=s=>(Ys("data-v-50e9209a"),s=s(),Ks(),s),Zn={class:"text-h6"},Jn={class:"absolute-full flex flex-center"},Hn=Wn(()=>oe("div",{class:"text-subtitle2"},"Sound Generators",-1)),ea=Ze({__name:"play",setup(s){const{currentProgram:e,initializeProgram:n}=Js();n();const{isPlaying:i,toggleIsPlaying:t,eventHandler:a}=zs(),{remandingDuration:o,remandingDurationPercentage:l}=Is(),c=u(()=>i.value?"pause":"play_arrow"),d=u(()=>i.value?"pause":"play"),h=u(()=>`${o.value.hours}:${o.value.minutes}:${o.value.seconds}`),{volumeRef:p}=Hs();function m(k){console.log("updateVol %o",k),p.value=k}const v=L(null);async function g(){f("Main Volume",p.value,m)}async function f(k,y,x){tt(v)&&(await v.value.reveal({title:k,volume:y,updateVolume:x}),console.log("vol %o",p.value))}const _=u(()=>{var y;const k=((y=e.value)==null?void 0:y.generators)??[];return Yn(k,a)});return et(()=>{_.value.forEach(k=>k.dispose()),Vs.stop("+0.1")}),(k,y)=>{const x=hn,D=rs;return ie(),we(D,{color:"bg-purple"},{header:R(()=>{var C;return[oe("div",Zn,Ce((C=M(e))==null?void 0:C.title),1)]}),default:R(()=>[B(Je,{align:"center",class:"q-pt-md playToggle_section"},{default:R(()=>[B(Se,{onClick:y[0]||(y[0]=C=>M(t)()),class:"btn-fixed-width playToggle_section_btn",color:"green",label:M(d),icon:M(c),padding:"4px 20px 4px 12px",size:"1rem"},null,8,["label","icon"]),B(Se,{onClick:y[1]||(y[1]=C=>g()),round:"",color:"secondary",icon:"tune",class:"playToggle_section_vol"})]),_:1}),B(gn,null,{default:R(()=>[Gs(oe("div",null,[B(vt,{dark:""}),B(mn,{size:"25px",value:M(l),color:"accent"},{default:R(()=>[oe("div",Jn,[B(Pt,{color:"white","text-color":"accent",label:M(h)},null,8,["label"])])]),_:1},8,["value"])],512),[[Qs,M(i)]])]),_:1}),B(vt,{dark:""}),B(Tt,{class:"sg-container"},{default:R(()=>[Hn,(ie(!0),js(Xs,null,Us(M(_),C=>(ie(),we(x,{name:C.generatorName,type:C.type,"mute-ctrl":C.muteCtrl,"onUpdate:muteCtrl":G=>C.muteCtrl=G,onShowVolumeDialog:G=>f(`${C.generatorName} Volume`,C.volumeCtrl,O=>C.volumeCtrl=O)},null,8,["name","type","mute-ctrl","onUpdate:muteCtrl","onShowVolumeDialog"]))),256))]),_:1}),B(Tn,{ref_key:"volumeDialogRef",ref:v},null,512)]),_:1})}}});const oa=en(ea,[["__scopeId","data-v-50e9209a"]]);export{oa as default};
